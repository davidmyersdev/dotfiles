#!/usr/bin/env zsh

function git-branch-list-stale() {
  # List branches that have been merged into the main branch.
  git branch --merged "$(git main)" --format "%(refname:short)" | grep -v -e "^$(git main)$"
}

function git-branch-prune() {
  # Prune branches that have been merged into the main branch.
  git-branch-list-stale | xargs -n 1 -r git branch -d
}
